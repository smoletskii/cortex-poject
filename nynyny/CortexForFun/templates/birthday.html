
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–æ–∑–¥—Ä–∞–≤—å –∫–æ–ª–ª–µ–≥—É –æ—Ç –ò–ò üéâ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
            text-align: center;
            padding: 50px 20px;
            color: #333;
            margin: 0;
        }
        h1 {
            color: #4a6baf;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        p {
            color: #555;
            max-width: 600px;
            margin: 20px auto;
        }
        .form-group {
            margin: 20px auto;
            max-width: 500px;
            text-align: left;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #4a6baf;
        }
        input[type="text"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 2px solid #a1c4fd;
            border-radius: 10px;
            font-size: 16px;
            box-sizing: border-box;
        }
        button {
            padding: 15px 30px;
            font-size: 18px;
            background-color: #4a6baf;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: 0.3s;
        }
        button:hover:not(:disabled) {
            background-color: #3a568f;
            transform: translateY(-2px);
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #4a6baf;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 30px auto;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #result {
            margin-top: 30px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            min-height: 100px;
            font-size: 18px;
            line-height: 1.7;
            text-align: left;
            display: none;
        }
        footer {
            margin-top: 60px;
            color: #777;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <h1>üéâ –ü–æ–∑–¥—Ä–∞–≤—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</h1>
    <p>–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—å ‚Äî –Ω–µ–π—Ä–æ—Å–µ—Ç—å Qwen —Å–æ–∑–¥–∞—Å—Ç —Ç—ë–ø–ª–æ–µ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ.</p>

    <div class="form-group">
        <label for="name">–ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:</label>
        <input type="text" id="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Ä–∏—è">

        <label for="position">–î–æ–ª–∂–Ω–æ—Å—Ç—å:</label>
        <input type="text" id="position" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤">
    </div>

    <button id="generateBtn">–ü–æ–∑–¥—Ä–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ üéÇ</button>

    <div class="loader" id="loader"></div>
    <div id="result"></div>

    <footer>
        –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é <strong>Qwen1.5-4B-Instruct</strong> —á–µ—Ä–µ–∑ Hugging Face API
    </footer>

    <script>
        // üîê –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω: https://huggingface.co/settings/tokens
        const API_TOKEN = 'YOUR_HUGGING_FACE_API_TOKEN';
        const API_URL = 'https://api-inference.huggingface.co/models/Qwen/Qwen1.5-4B-Instruct';

        const generateBtn = document.getElementById('generateBtn');
        const resultDiv = document.getElementById('result');
        const loader = document.getElementById('loader');

        generateBtn.addEventListener('click', async () => {
            const name = document.getElementById('name').value.trim();
            const position = document.getElementById('position').value.trim();

            if (!name) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.');
                return;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
            loader.style.display = 'block';
            resultDiv.style.display = 'none';
            generateBtn.disabled = true;

            const prompt = 
                "<|im_start|>system\n" +
                "–¢—ã ‚Äî –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Ç–µ–ø–ª–æ, —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ –∏ —Å —é–º–æ—Ä–æ–º, –Ω–æ –≤ —Ä–∞–º–∫–∞—Ö —Ä–∞–±–æ—á–µ–π —ç—Ç–∏–∫–∏.\n" +
                "<|im_end|>\n" +
                "<|im_start|>user\n" +
                `–ù–∞–ø–∏—à–∏ —Ç—ë–ø–ª–æ–µ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ø–æ –∏–º–µ–Ω–∏ ${name}. ` +
                (position ? `–û–Ω/–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ ${position}. ` : '') +
                `–ü–æ–¥—á–µ—Ä–∫–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç—å –µ–≥–æ/–µ—ë –≤–∫–ª–∞–¥–∞ –≤ –∫–æ–º–∞–Ω–¥—É. –°–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –¥—É—à–µ–≤–Ω—ã–º, –Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º.` +
                "<|im_end|>\n" +
                "<|im_start|>assistant\n";

            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${API_TOKEN}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        inputs: prompt,
                        parameters: {
                            max_new_tokens: 200,
                            temperature: 0.85,
                            top_p: 0.9,
                            do_sample: true,
                            return_full_text: false,
                            truncate: 1024
                        }
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    throw new Error(errorData.error || `–û—à–∏–±–∫–∞: ${response.status}`);
                }

                const data = await response.json();
                let text = data.generated_text || data[0]?.generated_text || '–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ.';

                // –û—á–∏—Å—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
                text = text.replace(/<\|im_start\|>assistant\n?/i, '').trim();
                text = text.replace(/<\|im_end\|>.*$/s, '').trim();

                // –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                resultDiv.innerHTML = `<p>${text}</p>`;
                resultDiv.style.display = 'block';
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:', error);
                resultDiv.innerHTML = `
                    <p style="color: red;">
                        <strong>–û—à–∏–±–∫–∞:</strong> ${error.message}<br><br>
                        –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –≤–µ—Ä–Ω—ã–π, –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
                    </p>`;
                resultDiv.style.display = 'block';
            } finally {
                loader.style.display = 'none';
                generateBtn.disabled = false;
            }
        });
    </script>

</body>
</html>